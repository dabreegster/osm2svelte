import{S as M,i as S,s as B,N as J,l as u,o as m,q as f,r as $,u as d,O as T,v as q,P as D,Q as E,T as O,j as P,k as W,U as j,f as y,m as w,x as G,a as b,g,p as z,d as k,V as A,W as H,X as N,Y as Q,Z as U}from"./SelectImportArea-ebdd9fe7.js";function V(s){let t,a,r,e,n,i,l,p,h,c;function I(o){s[4](o)}let v={settings:s[2]};return s[0]!==void 0&&(v.imported=s[0]),e=new O({props:v}),P.push(()=>W(e,"imported",I)),l=new j({props:{imported:s[0]}}),{c(){t=y("div"),a=y("h1"),a.textContent="osm2streets lane editor",r=w(),u(e.$$.fragment),i=w(),u(l.$$.fragment),p=w(),h=y("div"),h.innerHTML=`<strong>Warnings:</strong> 
      <ul><li><strong>This tool is an early experiment</strong></li> 
        <li>Don&#39;t use this tool without understanding OSM tagging</li> 
        <li>Be careful around sidepaths, footways, and dual carriageways</li> 
        <li>Don&#39;t edit a way that&#39;s partly clipped</li></ul>`,G(t,"slot","left")},m(o,_){b(o,t,_),g(t,a),g(t,r),m(e,t,null),g(t,i),m(l,t,null),g(t,p),g(t,h),c=!0},p(o,_){const L={};!n&&_&1&&(n=!0,L.imported=o[0],z(()=>n=!1)),e.$set(L);const C={};_&1&&(C.imported=o[0]),l.$set(C)},i(o){c||(f(e.$$.fragment,o),f(l.$$.fragment,o),c=!0)},o(o){$(e.$$.fragment,o),$(l.$$.fragment,o),c=!1},d(o){o&&k(t),d(e),d(l)}}}function X(s){let t,a,r,e;return t=new Q({}),t.$on("polygon",s[3]),r=new U({props:{layers:s[1],showControls:!1}}),{c(){u(t.$$.fragment),a=w(),u(r.$$.fragment)},m(n,i){m(t,n,i),b(n,a,i),m(r,n,i),e=!0},p(n,i){const l={};i&2&&(l.layers=n[1]),r.$set(l)},i(n){e||(f(t.$$.fragment,n),f(r.$$.fragment,n),e=!0)},o(n){$(t.$$.fragment,n),$(r.$$.fragment,n),e=!1},d(n){d(t,n),n&&k(a),d(r,n)}}}function Y(s){let t,a,r;return a=new A({props:{$$slots:{default:[X]},$$scope:{ctx:s}}}),{c(){t=y("div"),u(a.$$.fragment),G(t,"slot","main")},m(e,n){b(e,t,n),m(a,t,null),r=!0},p(e,n){const i={};n&35&&(i.$$scope={dirty:n,ctx:e}),a.$set(i)},i(e){r||(f(a.$$.fragment,e),r=!0)},o(e){$(a.$$.fragment,e),r=!1},d(e){e&&k(t),d(a)}}}function Z(s){let t,a;return t=new J({props:{$$slots:{main:[Y],left:[V]},$$scope:{ctx:s}}}),{c(){u(t.$$.fragment)},m(r,e){m(t,r,e),a=!0},p(r,[e]){const n={};e&35&&(n.$$scope={dirty:e,ctx:r}),t.$set(n)},i(r){a||(f(t.$$.fragment,r),a=!0)},o(r){$(t.$$.fragment,r),a=!1},d(r){d(t,r)}}}function x(s,t,a){let r={debug_each_step:!1,dual_carriageway_experiment:!1,sidepath_zipping_experiment:!1,inferred_sidewalks:!1,osm2lanes:!1},e={kind:"nothing"},n=[];T(async()=>{await H()});const i=p=>N(p,e,r);function l(p){e=p,a(0,e)}return s.$$.update=()=>{s.$$.dirty&1&&e.kind=="done"&&(q.set(e.network),D.set(e.boundaryGJ),a(1,n=E(e.network,e.boundaryGJ)))},[e,n,r,i,l]}class F extends M{constructor(t){super(),S(this,t,x,Z,B,{})}}new F({target:document.getElementById("app")});
