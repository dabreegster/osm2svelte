import{S as U,i as X,s as Y,e as ee,a as g,n as D,d as h,c as ie,b as Le,f as k,t as O,g as c,h as V,L as Te,j as Z,k as x,l as M,m as J,o as R,p as ne,q as j,r as P,u as q,v as Se,w as Oe,x as T,y as ue,z as Fe,A as Ne,B as Je,C as W,D as ce,E as re,F as oe,G as ae,H as je,I as _e,J as fe,K as Ce,M as de,N as Pe,O as ze,P as Be,Q as Ge,R as Ie,T as Me,U as Re,V as qe,W as Ee,X as We,Y as De,Z as Ae}from"./SelectImportArea-ebdd9fe7.js";function He(i){let e;return{c(){e=k("p"),e.textContent="Click something"},m(l,t){g(l,e,t)},p:D,d(l){l&&h(e)}}}function Ve(i){let e,l=JSON.stringify(i[0].properties)+"",t;return{c(){e=k("pre"),t=O(l)},m(s,n){g(s,e,n),c(e,t)},p(s,n){n&1&&l!==(l=JSON.stringify(s[0].properties)+"")&&V(t,l)},d(s){s&&h(e)}}}function Ke(i){let e;function l(n,r){return n[0]?Ve:He}let t=l(i),s=t(i);return{c(){s.c(),e=ee()},m(n,r){s.m(n,r),g(n,e,r)},p(n,[r]){t===(t=l(n))&&s?s.p(n,r):(s.d(1),s=t(n),s&&(s.c(),s.m(e.parentNode,e)))},i:D,o:D,d(n){s.d(n),n&&h(e)}}}function Qe(i,e,l){let t;return ie(i,Le,s=>l(0,t=s)),[t]}class Ue extends U{constructor(e){super(),X(this,e,Qe,Ke,Y,{})}}function Xe(i){const e=i.slice(),l=e[0]||e[1];return e[8]=l,e}function Ye(i){let e;return{c(){e=k("p"),e.textContent="Hover on a road to see its details"},m(l,t){g(l,e,t)},p:D,d(l){l&&h(e)}}}function me(i){let e,l,t,s,n=i[8].properties.osm_id+"",r,o,m,u,d,a=i[8].properties.weight+"",f,y,b,S,L,F=JSON.stringify(JSON.parse(i[8].properties.osm_tags),null,"  ")+"",E,G,C,w=JSON.stringify(JSON.parse(i[8].properties.lane_specs_ltr),null,"  ")+"",$;return{c(){e=k("br"),l=J(),t=k("a"),s=O("Open OSM way "),r=O(n),m=J(),u=k("br"),d=O(`
  Weight: `),f=O(a),y=J(),b=k("br"),S=O(`
  Tags:
  `),L=k("pre"),E=O(F),G=O(`
  Lanes:
  `),C=k("pre"),$=O(w),T(t,"href",o=`http://openstreetmap.org/way/${i[8].properties.osm_id}`),T(t,"target","_blank"),T(t,"rel","noreferrer"),T(L,"class","svelte-y0uczf"),T(C,"class","svelte-y0uczf")},m(_,v){g(_,e,v),g(_,l,v),g(_,t,v),c(t,s),c(t,r),g(_,m,v),g(_,u,v),g(_,d,v),g(_,f,v),g(_,y,v),g(_,b,v),g(_,S,v),g(_,L,v),c(L,E),g(_,G,v),g(_,C,v),c(C,$)},p(_,v){v&3&&n!==(n=_[8].properties.osm_id+"")&&V(r,n),v&3&&o!==(o=`http://openstreetmap.org/way/${_[8].properties.osm_id}`)&&T(t,"href",o),v&3&&a!==(a=_[8].properties.weight+"")&&V(f,a),v&3&&F!==(F=JSON.stringify(JSON.parse(_[8].properties.osm_tags),null,"  ")+"")&&V(E,F),v&3&&w!==(w=JSON.stringify(JSON.parse(_[8].properties.lane_specs_ltr),null,"  ")+"")&&V($,w)},d(_){_&&h(e),_&&h(l),_&&h(t),_&&h(m),_&&h(u),_&&h(d),_&&h(f),_&&h(y),_&&h(b),_&&h(S),_&&h(L),_&&h(G),_&&h(C)}}}function Ze(i){let e,l,t,s,n,r;function o(b){i[4](b)}function m(b){i[5](b)}let u={source:"road-weights",gj:i[2],layerStyle:i[3],interactive:!0};i[0]!==void 0&&(u.clickedFeature=i[0]),i[1]!==void 0&&(u.hoveredFeature=i[1]),e=new Te({props:u}),Z.push(()=>x(e,"clickedFeature",o)),Z.push(()=>x(e,"hoveredFeature",m));function d(b,S){return b[0]||b[1]?me:Ye}function a(b,S){return S===me?Xe(b):b}let f=d(i),y=f(a(i,f));return{c(){M(e.$$.fragment),s=J(),y.c(),n=ee()},m(b,S){R(e,b,S),g(b,s,S),y.m(b,S),g(b,n,S),r=!0},p(b,[S]){const L={};!l&&S&1&&(l=!0,L.clickedFeature=b[0],ne(()=>l=!1)),!t&&S&2&&(t=!0,L.hoveredFeature=b[1],ne(()=>t=!1)),e.$set(L),f===(f=d(b))&&y?y.p(a(b,f),S):(y.d(1),y=f(a(b,f)),y&&(y.c(),y.m(n.parentNode,n)))},i(b){r||(j(e.$$.fragment,b),r=!0)},o(b){P(e.$$.fragment,b),r=!1},d(b){q(e,b),b&&h(s),y.d(b),b&&h(n)}}}function xe(i){return i.highway_type=="primary"?.8:.3}function et(i,e,l){let t;ie(i,Se,a=>l(6,t=a));let s,n,r=m(),o={type:"fill",paint:{"fill-color":["interpolate",["linear"],["get","weight"],0,"blue",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],"fill-opacity":Oe("hover",.8,.4)}};function m(){let a=ue();if(!t)return a;let f=JSON.parse(t.toGeojsonPlain()),y=JSON.parse(t.toJson());for(let[b,S]of y.roads){let L={highway_type:S.highway_type,lane_specs_ltr:S.lane_specs_ltr,osm_id:void 0,osm_tags:{},weight:0};S.osm_ids.length==1&&(L.osm_id=S.osm_ids[0],L.osm_tags=JSON.parse(t.getOsmTagsForWay(BigInt(L.osm_id)))),L.weight=xe(L),a.features.push({type:"Feature",properties:L,geometry:f.features.find(F=>b==F.properties.id).geometry})}return a}function u(a){s=a,l(0,s)}function d(a){n=a,l(1,n)}return[s,n,r,o,u,d]}class tt extends U{constructor(e){super(),X(this,e,et,Ze,Y,{})}}function nt(i){let e;return{c(){e=k("p"),e.textContent="Click a road"},m(l,t){g(l,e,t)},p:D,d(l){l&&h(e)}}}function lt(i){let e,l=i[0].features.length+"",t,s;return{c(){e=k("p"),t=O(l),s=O(" buildings onscreen")},m(n,r){g(n,e,r),c(e,t),c(e,s)},p(n,r){r&1&&l!==(l=n[0].features.length+"")&&V(t,l)},d(n){n&&h(e)}}}function st(i){let e;function l(n,r){return n[1]?lt:nt}let t=l(i),s=t(i);return{c(){s.c(),e=ee()},m(n,r){s.m(n,r),g(n,e,r)},p(n,[r]){t===(t=l(n))&&s?s.p(n,r):(s.d(1),s=t(n),s&&(s.c(),s.m(e.parentNode,e)))},i:D,o:D,d(n){s.d(n),n&&h(e)}}}let se="building-hitboxes";function it(i,e,l){let t,s;ie(i,Ne,o=>l(2,t=o)),ie(i,Le,o=>l(1,s=o));let n=`${se}-layer`,r=ue();return t.addSource(se,{type:"geojson",data:r}),t.addLayer({id:n,source:se,type:"fill",paint:{"fill-color":"blue"}}),Fe(()=>{t&&(t.getLayer(n)&&t.removeLayer(n),t.removeSource(se))}),i.$$.update=()=>{if(i.$$.dirty&7){if(l(0,r=ue()),s)for(let o of t.queryRenderedFeatures())o.layer.id=="building-3d"&&r.features.push(o);t.getSource(se).setData(r)}},[r,s,t]}class rt extends U{constructor(e){super(),X(this,e,it,st,Y,{})}}function ot(i){let e,l,t,s,n,r,o,m,u,d,a,f,y,b,S,L,F,E,G,C,w,$,_,v,K,A,z,B,te,H,le;return te=Je(i[6][0]),{c(){e=k("details"),l=k("summary"),l.textContent="Processing Options",t=J(),s=k("label"),n=k("input"),r=O(`
    Debug each transformation step`),o=J(),m=k("label"),u=k("input"),d=O(`
    Enable dual carriageway experiment`),a=J(),f=k("label"),y=k("input"),b=O(`
    Enable sidepath zipping experiment`),S=J(),L=k("label"),F=k("input"),E=O(`
    Enable osm2lanes experiment`),G=J(),C=k("div"),w=O(`Sidewalks:
    `),$=k("label"),_=k("input"),v=O(`
      use mapped footways`),K=J(),A=k("label"),z=k("input"),B=O(`
      infer on roads`),T(l,"class","svelte-fio7ln"),T(n,"type","checkbox"),T(s,"class","svelte-fio7ln"),T(u,"type","checkbox"),T(m,"class","svelte-fio7ln"),T(y,"type","checkbox"),T(f,"class","svelte-fio7ln"),T(F,"type","checkbox"),T(L,"class","svelte-fio7ln"),T(_,"type","radio"),_.__value=!1,_.value=_.__value,T($,"class","svelte-fio7ln"),T(z,"type","radio"),z.__value=!0,z.value=z.__value,T(A,"class","svelte-fio7ln"),T(C,"class","svelte-fio7ln"),T(e,"class","svelte-fio7ln"),te.p(_,z)},m(p,N){g(p,e,N),c(e,l),c(e,t),c(e,s),c(s,n),n.checked=i[0].debug_each_step,c(s,r),c(e,o),c(e,m),c(m,u),u.checked=i[0].dual_carriageway_experiment,c(m,d),c(e,a),c(e,f),c(f,y),y.checked=i[0].sidepath_zipping_experiment,c(f,b),c(e,S),c(e,L),c(L,F),F.checked=i[0].osm2lanes,c(L,E),c(e,G),c(e,C),c(C,w),c(C,$),c($,_),_.checked=_.__value===i[0].inferred_sidewalks,c($,v),c(C,K),c(C,A),c(A,z),z.checked=z.__value===i[0].inferred_sidewalks,c(A,B),H||(le=[W(n,"change",i[1]),W(u,"change",i[2]),W(y,"change",i[3]),W(F,"change",i[4]),W(_,"change",i[5]),W(z,"change",i[7])],H=!0)},p(p,[N]){N&1&&(n.checked=p[0].debug_each_step),N&1&&(u.checked=p[0].dual_carriageway_experiment),N&1&&(y.checked=p[0].sidepath_zipping_experiment),N&1&&(F.checked=p[0].osm2lanes),N&1&&(_.checked=_.__value===p[0].inferred_sidewalks),N&1&&(z.checked=z.__value===p[0].inferred_sidewalks)},i:D,o:D,d(p){p&&h(e),te.r(),H=!1,ce(le)}}}function at(i,e,l){let{settings:t={debug_each_step:!1,dual_carriageway_experiment:!1,sidepath_zipping_experiment:!1,inferred_sidewalks:!1,osm2lanes:!1}}=e;const s=[[]];function n(){t.debug_each_step=this.checked,l(0,t)}function r(){t.dual_carriageway_experiment=this.checked,l(0,t)}function o(){t.sidepath_zipping_experiment=this.checked,l(0,t)}function m(){t.osm2lanes=this.checked,l(0,t)}function u(){t.inferred_sidewalks=this.__value,l(0,t)}function d(){t.inferred_sidewalks=this.__value,l(0,t)}return i.$$set=a=>{"settings"in a&&l(0,t=a.settings)},[t,n,r,o,m,u,s,d]}class ut extends U{constructor(e){super(),X(this,e,at,ot,Y,{settings:0})}}function be(i,e,l){const t=i.slice();return t[8]=e[l],t[10]=l,t}function ge(i){let e,l,t,s,n,r=i[1]+1+"",o,m,u=i[0].length+"",d,a,f,y,b,S,L,F,E,G,C,w,$,_,v,K,A,z=i[0],B=[];for(let p=0;p<z.length;p+=1)B[p]=he(be(i,z,p));function te(p){i[7](p)}var H=i[2].content;function le(p){let N={gj:p[2].gj,downloadable:!0};return p[2].show!==void 0&&(N.show=p[2].show),{props:N}}return H&&($=ae(H,le(i)),Z.push(()=>x($,"show",te))),{c(){e=k("div"),l=k("button"),t=O("Previous"),n=J(),o=O(r),m=O(" / "),d=O(u),a=J(),f=k("button"),y=O("Next"),S=J(),L=k("div"),F=k("select");for(let p=0;p<B.length;p+=1)B[p].c();E=J(),G=k("div"),C=k("input"),w=J(),$&&M($.$$.fragment),T(l,"type","button"),l.disabled=s=i[1]==0,T(f,"type","button"),f.disabled=b=i[1]==i[0].length-1,i[1]===void 0&&je(()=>i[5].call(F)),T(C,"type","checkbox")},m(p,N){g(p,e,N),c(e,l),c(l,t),c(e,n),c(e,o),c(e,m),c(e,d),c(e,a),c(e,f),c(f,y),g(p,S,N),g(p,L,N),c(L,F);for(let Q=0;Q<B.length;Q+=1)B[Q]&&B[Q].m(F,null);_e(F,i[1],!0),g(p,E,N),g(p,G,N),c(G,C),C.checked=i[2].show,c(G,w),$&&R($,G,null),v=!0,K||(A=[W(l,"click",i[3]),W(f,"click",i[4]),W(F,"change",i[5]),W(C,"change",i[6])],K=!0)},p(p,N){if((!v||N&2&&s!==(s=p[1]==0))&&(l.disabled=s),(!v||N&2)&&r!==(r=p[1]+1+"")&&V(o,r),(!v||N&1)&&u!==(u=p[0].length+"")&&V(d,u),(!v||N&3&&b!==(b=p[1]==p[0].length-1))&&(f.disabled=b),N&1){z=p[0];let I;for(I=0;I<z.length;I+=1){const pe=be(p,z,I);B[I]?B[I].p(pe,N):(B[I]=he(pe),B[I].c(),B[I].m(F,null))}for(;I<B.length;I+=1)B[I].d(1);B.length=z.length}N&2&&_e(F,p[1]),N&4&&(C.checked=p[2].show);const Q={};if(N&4&&(Q.gj=p[2].gj),!_&&N&4&&(_=!0,Q.show=p[2].show,ne(()=>_=!1)),N&4&&H!==(H=p[2].content)){if($){re();const I=$;P(I.$$.fragment,1,0,()=>{q(I,1)}),oe()}H?($=ae(H,le(p)),Z.push(()=>x($,"show",te)),M($.$$.fragment),j($.$$.fragment,1),R($,G,null)):$=null}else H&&$.$set(Q)},i(p){v||($&&j($.$$.fragment,p),v=!0)},o(p){$&&P($.$$.fragment,p),v=!1},d(p){p&&h(e),p&&h(S),p&&h(L),fe(B,p),p&&h(E),p&&h(G),$&&q($),K=!1,ce(A)}}}function he(i){let e,l=i[8].label+"",t;return{c(){e=k("option"),t=O(l),e.__value=i[10],e.value=e.__value},m(s,n){g(s,e,n),c(e,t)},p(s,n){n&1&&l!==(l=s[8].label+"")&&V(t,l)},d(s){s&&h(e)}}}function ft(i){let e,l,t=i[0].length>0&&ge(i);return{c(){t&&t.c(),e=ee()},m(s,n){t&&t.m(s,n),g(s,e,n),l=!0},p(s,[n]){s[0].length>0?t?(t.p(s,n),n&1&&j(t,1)):(t=ge(s),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(re(),P(t,1,1,()=>{t=null}),oe())},i(s){l||(j(t),l=!0)},o(s){P(t),l=!1},d(s){t&&t.d(s),s&&h(e)}}}function ct(i,e,l){let t,{layers:s}=e,n=0;const r=()=>l(1,n--,n),o=()=>l(1,n++,n);function m(){n=Ce(this),l(1,n)}function u(){t.show=this.checked,l(2,t),l(0,s),l(1,n)}function d(a){i.$$.not_equal(t.show,a)&&(t.show=a,l(2,t),l(0,s),l(1,n))}return i.$$set=a=>{"layers"in a&&l(0,s=a.layers)},i.$$.update=()=>{i.$$.dirty&3&&l(2,t=s[n])},[s,n,t,r,o,m,u,d]}class pt extends U{constructor(e){super(),X(this,e,ct,ft,Y,{layers:0})}}function ke(i,e,l){const t=i.slice();return t[4]=e[l],t[6]=l,t}function ye(i,e,l){const t=i.slice();return t[4]=e[l],t[6]=l,t}function $e(i){let e,l=i[4].label+"",t,s,n;function r(){return i[3](i[6])}return{c(){e=k("button"),t=O(l),T(e,"class","tab svelte-lnr7kd"),de(e,"active",i[6]==i[1])},m(o,m){g(o,e,m),c(e,t),s||(n=W(e,"click",r),s=!0)},p(o,m){i=o,m&1&&l!==(l=i[4].label+"")&&V(t,l),m&2&&de(e,"active",i[6]==i[1])},d(o){o&&h(e),s=!1,n()}}}function we(i){let e,l,t;var s=i[4].content;function n(r){return{}}return s&&(e=ae(s,n())),{c(){e&&M(e.$$.fragment),l=ee()},m(r,o){e&&R(e,r,o),g(r,l,o),t=!0},p(r,o){if(o&1&&s!==(s=r[4].content)){if(e){re();const m=e;P(m.$$.fragment,1,0,()=>{q(m,1)}),oe()}s?(e=ae(s,n()),M(e.$$.fragment),j(e.$$.fragment,1),R(e,l.parentNode,l)):e=null}},i(r){t||(e&&j(e.$$.fragment,r),t=!0)},o(r){e&&P(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&q(e,r)}}}function ve(i){let e,l,t=i[6]==i[1]&&we(i);return{c(){t&&t.c(),e=ee()},m(s,n){t&&t.m(s,n),g(s,e,n),l=!0},p(s,n){s[6]==s[1]?t?(t.p(s,n),n&2&&j(t,1)):(t=we(s),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(re(),P(t,1,1,()=>{t=null}),oe())},i(s){l||(j(t),l=!0)},o(s){P(t),l=!1},d(s){t&&t.d(s),s&&h(e)}}}function _t(i){let e,l,t,s=i[0],n=[];for(let u=0;u<s.length;u+=1)n[u]=$e(ye(i,s,u));let r=i[0],o=[];for(let u=0;u<r.length;u+=1)o[u]=ve(ke(i,r,u));const m=u=>P(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<n.length;u+=1)n[u].c();e=J();for(let u=0;u<o.length;u+=1)o[u].c();l=ee()},m(u,d){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(u,d);g(u,e,d);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(u,d);g(u,l,d),t=!0},p(u,[d]){if(d&3){s=u[0];let a;for(a=0;a<s.length;a+=1){const f=ye(u,s,a);n[a]?n[a].p(f,d):(n[a]=$e(f),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=s.length}if(d&3){r=u[0];let a;for(a=0;a<r.length;a+=1){const f=ke(u,r,a);o[a]?(o[a].p(f,d),j(o[a],1)):(o[a]=ve(f),o[a].c(),j(o[a],1),o[a].m(l.parentNode,l))}for(re(),a=r.length;a<o.length;a+=1)m(a);oe()}},i(u){if(!t){for(let d=0;d<r.length;d+=1)j(o[d]);t=!0}},o(u){o=o.filter(Boolean);for(let d=0;d<o.length;d+=1)P(o[d]);t=!1},d(u){fe(n,u),u&&h(e),fe(o,u),u&&h(l)}}}function dt(i,e,l){let{tabs:t}=e,{currentTabLabel:s}=e,n=0;const r=o=>l(1,n=o);return i.$$set=o=>{"tabs"in o&&l(0,t=o.tabs),"currentTabLabel"in o&&l(2,s=o.currentTabLabel)},i.$$.update=()=>{i.$$.dirty&3&&l(2,s=t[n].label)},[t,n,s,r]}class mt extends U{constructor(e){super(),X(this,e,dt,_t,Y,{tabs:0,currentTabLabel:2})}}function bt(i){let e,l,t,s,n,r,o,m,u,d,a;return{c(){e=k("label"),l=k("input"),t=O(`
  Basemap roads`),s=J(),n=k("br"),r=J(),o=k("label"),m=k("input"),u=O(`
  Basemap buildings`),T(l,"type","checkbox"),T(m,"type","checkbox")},m(f,y){g(f,e,y),c(e,l),l.checked=i[0],c(e,t),g(f,s,y),g(f,n,y),g(f,r,y),g(f,o,y),c(o,m),m.checked=i[1],c(o,u),d||(a=[W(l,"change",i[3]),W(m,"change",i[4])],d=!0)},p(f,[y]){y&1&&(l.checked=f[0]),y&2&&(m.checked=f[1])},i:D,o:D,d(f){f&&h(e),f&&h(s),f&&h(n),f&&h(r),f&&h(o),d=!1,ce(a)}}}function gt(i,e,l){let t;ie(i,Ne,m=>l(2,t=m));let s=!0,n=!0;function r(){s=this.checked,l(0,s)}function o(){n=this.checked,l(1,n)}return i.$$.update=()=>{if(i.$$.dirty&5&&t){let m=s?"visible":"none";for(let u of t.getStyle().layers)u.id.startsWith("road_")&&t.setLayoutProperty(u.id,"visibility",m)}if(i.$$.dirty&6&&t){let m=n?"visible":"none";t.setLayoutProperty("building","visibility",m),t.setLayoutProperty("building-3d","visibility",m)}},[s,n,t,r,o]}class ht extends U{constructor(e){super(),X(this,e,gt,bt,Y,{})}}function kt(i){let e,l,t,s,n,r,o,m,u,d,a,f,y,b;function S(w){i[6](w)}let L={};i[2]!==void 0&&(L.settings=i[2]),s=new ut({props:L}),Z.push(()=>x(s,"settings",S));function F(w){i[7](w)}let E={settings:i[2]};i[0]!==void 0&&(E.imported=i[0]),o=new Me({props:E}),Z.push(()=>x(o,"imported",F)),d=new Re({props:{imported:i[0]}});function G(w){i[8](w)}let C={tabs:[{label:"Info",content:Ue},{label:"Thicken roads",content:rt},{label:"Route profiles",content:tt}]};return i[1]!==void 0&&(C.currentTabLabel=i[1]),f=new mt({props:C}),Z.push(()=>x(f,"currentTabLabel",G)),{c(){e=k("div"),l=k("h1"),l.textContent="osm2streets + Svelte",t=J(),M(s.$$.fragment),r=J(),M(o.$$.fragment),u=J(),M(d.$$.fragment),a=J(),M(f.$$.fragment),T(e,"slot","left")},m(w,$){g(w,e,$),c(e,l),c(e,t),R(s,e,null),c(e,r),R(o,e,null),c(e,u),R(d,e,null),c(e,a),R(f,e,null),b=!0},p(w,$){const _={};!n&&$&4&&(n=!0,_.settings=w[2],ne(()=>n=!1)),s.$set(_);const v={};$&4&&(v.settings=w[2]),!m&&$&1&&(m=!0,v.imported=w[0],ne(()=>m=!1)),o.$set(v);const K={};$&1&&(K.imported=w[0]),d.$set(K);const A={};!y&&$&2&&(y=!0,A.currentTabLabel=w[1],ne(()=>y=!1)),f.$set(A)},i(w){b||(j(s.$$.fragment,w),j(o.$$.fragment,w),j(d.$$.fragment,w),j(f.$$.fragment,w),b=!0)},o(w){P(s.$$.fragment,w),P(o.$$.fragment,w),P(d.$$.fragment,w),P(f.$$.fragment,w),b=!1},d(w){w&&h(e),q(s),q(o),q(d),q(f)}}}function yt(i){let e,l,t,s;return e=new pt({props:{layers:i[4]}}),t=new ht({}),{c(){M(e.$$.fragment),l=J(),M(t.$$.fragment)},m(n,r){R(e,n,r),g(n,l,r),R(t,n,r),s=!0},p:D,i(n){s||(j(e.$$.fragment,n),j(t.$$.fragment,n),s=!0)},o(n){P(e.$$.fragment,n),P(t.$$.fragment,n),s=!1},d(n){q(e,n),n&&h(l),q(t,n)}}}function $t(i){let e,l,t,s;return e=new De({}),e.$on("polygon",i[5]),t=new Ae({props:{layers:i[3],$$slots:{default:[yt]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),l=J(),M(t.$$.fragment)},m(n,r){R(e,n,r),g(n,l,r),R(t,n,r),s=!0},p(n,r){const o={};r&8&&(o.layers=n[3]),r&512&&(o.$$scope={dirty:r,ctx:n}),t.$set(o)},i(n){s||(j(e.$$.fragment,n),j(t.$$.fragment,n),s=!0)},o(n){P(e.$$.fragment,n),P(t.$$.fragment,n),s=!1},d(n){q(e,n),n&&h(l),q(t,n)}}}function wt(i){let e,l,t;return l=new qe({props:{$$slots:{default:[$t]},$$scope:{ctx:i}}}),{c(){e=k("div"),M(l.$$.fragment),T(e,"slot","main")},m(s,n){g(s,e,n),R(l,e,null),t=!0},p(s,n){const r={};n&525&&(r.$$scope={dirty:n,ctx:s}),l.$set(r)},i(s){t||(j(l.$$.fragment,s),t=!0)},o(s){P(l.$$.fragment,s),t=!1},d(s){s&&h(e),q(l)}}}function vt(i){let e,l;return e=new Pe({props:{$$slots:{main:[wt],left:[kt]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},m(t,s){R(e,t,s),l=!0},p(t,[s]){const n={};s&527&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(j(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Lt(i,e,l){let t={kind:"nothing"},s,n,r=[],o=[];ze(async()=>{await Ee()});const m=f=>We(f,t,n);function u(f){n=f,l(2,n)}function d(f){t=f,l(0,t)}function a(f){s=f,l(1,s)}return i.$$.update=()=>{i.$$.dirty&1&&t.kind=="done"&&(Se.set(t.network),Be.set(t.boundaryGJ),l(3,r=Ge(t.network,t.boundaryGJ).concat(Ie(t.network))))},[t,s,n,r,o,m,u,d,a]}class St extends U{constructor(e){super(),X(this,e,Lt,vt,Y,{})}}new St({target:document.getElementById("app")});
